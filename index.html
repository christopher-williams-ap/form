<head>
  <!-- Generate a TrustedForm Certificate -->
  <script type="text/javascript">
  (function() {
      var field = 'xxTrustedFormCertUrl';
      var provideReferrer = false;
      var identifier = 'CHR12T0PH3R'
      //var sandbox = true;
      //var disableSnapshot = false;
      var pingField = 'pingURL';
      var tf = document.createElement('script');
      tf.type = 'text/javascript'; tf.async = true; 
      tf.src = 'http' + ('https:' == document.location.protocol ? 's' : '') +
      '://api.trustedform.com/trustedform.js?provide_referrer=' + escape(provideReferrer) + '&field=' + escape(field) + '&l='+new Date().getTime()+Math.random() + '&identifier=' + escape(identifier) + '&ping_field=' + escape(pingField);
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(tf, s); }
  )();
  </script>
  <noscript>
      <img src="http://api.trustedform.com/ns.gif" />
  </noscript>
  <script>
    function test() {
      console.log("test");
      trustedFormNext();
    }
  </script>
</head>
<form method="post" action="https://app.leadconduit.com/flows/608ad0b0daeb85ec2060361f/sources/56ddf55401a7c994452e8ca5/submit" id="leadgen">
  <select id="prefix">
    <option value="Mr." name="mr">Mr.</option>
    <option value="Mrs." name="ms">Mrs.</option>
    <option value="Ms.">Ms.</option>
    <option value="Dr.">Dr.</option>
  </select>
  <label for="firstName">First Name</label></br>
  <input name="first_name" id="firstName" placeholder="First name" required autocomplete="given-name"></br></br>
  <label for="lastName">Last Name</label></br>
  <input name="last_name" id="lastName" placeholder="Last name" required autocomplete="family-name"></br></br>
  <label for="frmEmailA">Email Address</label></br>
  <input type="email" name="email" id="frmEmailA" placeholder="name@example.com" required autocomplete="email"></br></br>
  <label for="phone_1">Phone Number</label></br>
  <input name="phone_1" id="phone" data-tf-sensitive="true"></br></br>
  <input type="checkbox" name="consent_given" id="leadid_tcpa_disclosure">
  <label for="leadid_tcpa_disclosure">Thank you for your time here today.
Shortly following this call, agents and carriers in your area will begin contacting you in regards to your insurance needs at your phone number 512.555.5555.
Before we provide your contact information to these agents or carriers, we need your consent (which is not required as a condition of purchasing property, goods or services - you may revoke your consent at any time).  Most agents will simply call you, but some may use text/SMS messages, a pre-recorded message or an automatic telephone dialing system such as the one used here to contact you today.
Is this okay?</label></br>
  <button>Submit</button>
  <input id="leadid_token" name="universal_leadid" type="hidden" value=""/>
    
</form>
<button type="button" onclick="test()">Create Another Certificate</button>

<!-- Generate a LeadID -->
<script id="LeadiDscript" type="text/javascript">
  (function() {
    var s = document.createElement('script');
    s.id = 'LeadiDscript_campaign';
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//create.lidstatic.com/campaign/d52d7190-e752-6fb9-65c0-98dfaa845d7f.js?snippet_version=2';
    var LeadiDscript = document.getElementById('LeadiDscript');
    LeadiDscript.parentNode.insertBefore(s, LeadiDscript);
  })();
</script>
<noscript>
  <img src='//create.leadid.com/noscript.gif?lac=4C32765C-0A7C-91F6-BCA6-8416D7E8B7EE&lck=d52d7190-e752-6fb9-65c0-98dfaa845d7f&snippet_version=2' />
</noscript>
<script>
  var start = new Date();
  
  var formElement = document.querySelector('#leadgen');
  var formObserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.addedNodes && mutation.addedNodes[0].id == "xxTrustedFormCertUrl_0"){
        console.log("TrustedForm Certificate took " + (new Date() - start) + "ms");
      }
    });
  });
  formObserver.observe(formElement, {
    childList: true //configure it to listen to attribute changes
  });
  
  var leadIdElement = document.querySelector('#leadid_token');
  var leadIdobserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if(mutation.target.id == "leadid_token") {
        console.log("Jornaya LeadID took " + (new Date() - start) + "ms");
      }
    });
  });

  leadIdobserver.observe(leadIdElement, {
    attributes: true //configure it to listen to attribute changes
  });
  
</script>
